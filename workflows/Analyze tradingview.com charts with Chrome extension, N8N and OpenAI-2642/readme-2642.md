Analyze tradingview.com charts with Chrome extension, N8N and OpenAI

https://n8nworkflows.xyz/workflows/analyze-tradingview-com-charts-with-chrome-extension--n8n-and-openai-2642


# Analyze tradingview.com charts with Chrome extension, N8N and OpenAI

### 1. Workflow Overview

This workflow enables automated technical analysis of TradingView.com charts by integrating a Chrome extension with n8n and OpenAI’s image analysis capabilities. Its primary use case is to allow users to capture screenshots of cryptocurrency or stock charts via a Chrome plugin and send them to n8n, which processes the image through OpenAI’s GPT-4O-MINI model with image analysis enabled. The workflow replies with an easy-to-understand market analysis suitable for novice traders.

**Logical Blocks:**

- **1.1 Input Reception:** Capturing incoming requests with chart screenshots sent from the Chrome extension through a webhook.
- **1.2 AI Processing:** Sending the base64-encoded screenshot to the OpenAI image analysis model with a custom prompt for financial analysis.
- **1.3 Response Delivery:** Returning the AI-generated textual analysis back to the Chrome extension via the webhook response.

---

### 2. Block-by-Block Analysis

#### 2.1 Input Reception

- **Overview:**  
This block receives POST HTTP requests from the Chrome extension containing the chart screenshot data encoded in base64. It acts as the entry point for the workflow.

- **Nodes Involved:**  
  - Webhook

- **Node Details:**

  - **Webhook**  
    - *Type:* HTTP Webhook Trigger  
    - *Role:* Listens for incoming POST requests at a unique webhook URL path and forwards the payload downstream.  
    - *Configuration:*  
      - HTTP Method: POST  
      - Path: Unique GUID-based path to secure the endpoint  
      - Response Mode: Waits for downstream response node to reply  
      - No additional authentication, assuming security via obscurity of path  
    - *Key Expressions:* None used directly; expects base64 image data in the incoming JSON body.  
    - *Connections:* Output connected to OpenAI node input.  
    - *Version Requirements:* n8n version supporting webhook node v2.  
    - *Failure Modes:*  
      - Missing or malformed POST body  
      - Incorrect or missing base64 image data  
      - Unauthorized access if path is leaked  
      - Network connectivity issues  
    - *Sub-workflow:* None

#### 2.2 AI Processing

- **Overview:**  
Receives the base64 chart image from the webhook, sends it to OpenAI’s GPT-4O-MINI model configured for image analysis with a carefully crafted prompt instructing the model to perform technical analysis and explain it in simple language.

- **Nodes Involved:**  
  - OpenAI

- **Node Details:**

  - **OpenAI**  
    - *Type:* OpenAI Node (LangChain integration)  
    - *Role:* Calls OpenAI API with model GPT-4O-MINI using image analysis feature on the base64-encoded screenshot, executing a financial analyst prompt.  
    - *Configuration:*  
      - Model: GPT-4O-MINI  
      - Operation: Analyze Image  
      - Input Type: base64 (expects the image encoded as base64 string from webhook)  
      - Prompt:  
        > "You are an expert financial analyst tasked with providing an advanced technical analyses of a stock or crypto currency chart provided. Your analysis will be based on various technical indicators and will provide simple insights for novice traders. Just explain to traders where you expect the market is moving. Also warn them this is not a binding advice. Make sure to explain everything in infant language."  
      - Resource: image  
      - Credentials: OpenAI API key configured externally  
    - *Key Expressions:* Uses static prompt text; the base64 image data is passed directly from webhook JSON.  
    - *Input Connections:* From Webhook node output.  
    - *Output Connections:* To Respond to Webhook node.  
    - *Version Requirements:* Node version 1.7 supports image analysis mode; OpenAI account must have access to GPT-4O-MINI and image analysis API.  
    - *Failure Modes:*  
      - API authentication errors (invalid or expired key)  
      - Input image too large or malformed base64 encoding  
      - API rate limiting or timeout  
      - Model unavailability or parameter misconfiguration  
    - *Sub-workflow:* None

#### 2.3 Response Delivery

- **Overview:**  
Sends the text content generated by OpenAI back to the Chrome extension as the HTTP response to complete the request-response cycle.

- **Nodes Involved:**  
  - Respond to Webhook

- **Node Details:**

  - **Respond to Webhook**  
    - *Type:* HTTP Response Node  
    - *Role:* Sends a plain text response back to the original HTTP POST caller (the Chrome extension) containing the AI-generated analysis.  
    - *Configuration:*  
      - Respond with: Text  
      - Response Body: Uses expression `{{$json.content}}` from OpenAI node output (the analyzed text)  
    - *Input Connections:* From OpenAI node.  
    - *Output Connections:* None (terminal node)  
    - *Version Requirements:* v1.1 or higher for proper response handling  
    - *Failure Modes:*  
      - Missing or empty content in OpenAI output  
      - HTTP response errors if webhook session lost  
    - *Sub-workflow:* None

---

### 3. Summary Table

| Node Name          | Node Type                     | Functional Role                  | Input Node(s)         | Output Node(s)         | Sticky Note                                                                                 |
|--------------------|-------------------------------|---------------------------------|-----------------------|------------------------|---------------------------------------------------------------------------------------------|
| Webhook            | HTTP Webhook Trigger          | Receives screenshot POST requests | —                     | OpenAI                 |                                                                                             |
| OpenAI             | OpenAI Node (LangChain)       | Analyzes screenshot with GPT-4O-MINI | Webhook               | Respond to Webhook      | AI prompt: Expert financial analysis in simple language; warns no binding advice            |
| Respond to Webhook  | HTTP Response Node            | Sends back AI-generated analysis text | OpenAI                | —                      |                                                                                             |
| Sticky Note        | Sticky Note                  | Informational label               | —                     | —                      | ## N8N en OpenAI image analyser                                                             |
| Sticky Note1       | Sticky Note                  | Displays full AI prompt content   | —                     | —                      | ## AI prompt You are an expert financial analyst tasked with providing an advanced technical analyses... |

---

### 4. Reproducing the Workflow from Scratch

1. **Create Webhook Node:**  
   - Type: Webhook  
   - HTTP Method: POST  
   - Path: Set to a unique GUID string (e.g., "e9a97dd5-f1e7-4d5b-a6f1-be5f0c9eb96c")  
   - Response Mode: Response Node (wait for downstream response)  
   - Save node.

2. **Create OpenAI Node:**  
   - Type: OpenAI (LangChain integration)  
   - Set Resource to "image"  
   - Operation: "analyze"  
   - Input Type: "base64"  
   - Model: Select GPT-4O-MINI (ensure your OpenAI API key has access)  
   - Prompt:  
     ```
     You are an expert financial analyst tasked with providing an advanced technical analyses of a stock or crypto currency chart provided. Your analysis will be based on various technical indicators and will provide simple insights for novice traders. Just explain to traders where you expect the market is moving. Also warn them this is not a binding advice. Make sure to explain everything in infant language.
     ```  
   - Credentials: Configure your OpenAI API credential with a valid API key.  
   - Connect Webhook node output to this node input.

3. **Create Respond to Webhook Node:**  
   - Type: Respond to Webhook  
   - Respond With: Text  
   - Response Body: Use expression `{{$json.content}}` (this extracts the analysis text from OpenAI node output)  
   - Connect OpenAI node output to this node input.

4. **Add Sticky Notes (Optional for documentation):**  
   - Add one sticky note near the Webhook and OpenAI nodes with the content:  
     ```
     ## N8N en OpenAI image analyser
     ```  
   - Add another sticky note near the OpenAI node with the prompt content as a reminder.

5. **Activate Workflow:**  
   - Save and activate the workflow to listen for incoming requests.

6. **Configure Chrome Extension:**  
   - Use the provided Chrome extension (built with Cursor AI) to capture screenshots of TradingView charts.  
   - Ensure it sends POST requests with base64 encoded screenshots to the webhook URL (format: `https://[your-n8n-domain]/webhook/e9a97dd5-f1e7-4d5b-a6f1-be5f0c9eb96c`).  
   - The extension will receive back the AI-generated analysis text.

---

### 5. General Notes & Resources

| Note Content                                                                                                                                                                                                                           | Context or Link                                                                                          |
|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------|
| This workflow is supported by a Chrome plugin created with Cursor AI, enabling seamless screenshot capture and submission.                                                                                                          | Chrome plugin provided with the workflow.                                                               |
| Download Chrome extension for screenshot capture: [Download](https://things.io/wp-content/uploads/2024/12/chrome_screenshot.zip)                                                                                                     | Chrome extension file for client-side capture and sending images to n8n.                                |
| Full N8N workflow JSON available here: [Download](https://things.io/wp-content/uploads/2024/12/chrome_extension_backend_with_AI.json)                                                                                                | For direct import into n8n.                                                                              |
| The AI prompt is designed to produce simplified and cautious financial analysis, explicitly telling users this is not binding financial advice.                                                                                     | Important for legal and ethical considerations.                                                         |
| The workflow can be adapted to analyze other websites and types of screenshots, opening possibilities beyond trading charts, such as other financial data or visual analytics.                                                        | Extensibility note.                                                                                      |
| OpenAI GPT-4O-MINI with image analysis is a new capability that enables workflows like this one to interpret images, not just text, vastly expanding automation possibilities with AI.                                               | Technology note.                                                                                        |

---

This document provides a complete, detailed reference enabling both manual reproduction and automated understanding of the workflow integrating a Chrome extension, n8n webhook, and OpenAI image analysis for TradingView chart analysis.