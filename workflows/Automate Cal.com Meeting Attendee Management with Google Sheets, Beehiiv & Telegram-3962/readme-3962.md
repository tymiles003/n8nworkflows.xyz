Automate Cal.com Meeting Attendee Management with Google Sheets, Beehiiv & Telegram

https://n8nworkflows.xyz/workflows/automate-cal-com-meeting-attendee-management-with-google-sheets--beehiiv---telegram-3962


# Automate Cal.com Meeting Attendee Management with Google Sheets, Beehiiv & Telegram

### 1. Workflow Overview

This workflow automates the management of meeting attendees booked through Cal.com by integrating attendee data capture, storage, newsletter subscription, and notification into a seamless process. It is designed for event organizers or businesses who want to automatically log meeting guests, grow their newsletter subscriber list via Beehiiv, and receive real-time alerts through Telegram.

**Logical blocks:**

- **1.1 Booking Event Trigger:** Listens for new booking events from Cal.com.
- **1.2 Attendee Data Extraction and Preparation:** Splits attendees and prepares individual attendee data.
- **1.3 Data Logging to Google Sheets:** Appends each attendee's details to a Google Sheet for record-keeping.
- **1.4 Newsletter Subscription via Beehiiv:** Adds attendees as subscribers to the Beehiiv newsletter.
- **1.5 Telegram Notification:** Sends a notification to a Telegram channel about the new subscriber.
- **1.6 Parameter Configuration:** A dedicated node to define essential parameters like Telegram chat ID, Beehiiv API key, and publication ID.

---

### 2. Block-by-Block Analysis

#### 1.1 Booking Event Trigger

**Overview:**  
This block initiates the workflow by triggering on a new booking event created in Cal.com.

**Nodes Involved:**  
- on New Booking

**Node Details:**

- **on New Booking**  
  - **Type:** Cal.com Trigger (calTrigger)  
  - **Role:** Listens for `BOOKING_CREATED` events from Cal.com to start the workflow upon a new booking.  
  - **Configuration:**  
    - Event type: `BOOKING_CREATED`  
    - Webhook URL autogenerated and exposed for Cal.com webhook setup.  
    - Credential: Cal.com API credentials linked.  
  - **Input:** Incoming webhook event payload from Cal.com.  
  - **Output:** Booking data JSON to downstream nodes.  
  - **Potential failures:**  
    - Webhook misconfiguration (wrong URL or no event sent).  
    - Authentication errors with Cal.com API credentials.  
    - Network or timeout errors.  
  - **Version Requirements:** n8n version supporting Cal.com Trigger node (v2+).

---

#### 1.2 Attendee Data Extraction and Preparation

**Overview:**  
This block handles extraction of individual attendees from the booking event and prepares their data for further processing.

**Nodes Involved:**  
- Split Attendees  
- set data  
- Set Attendee

**Node Details:**

- **Split Attendees**  
  - **Type:** Split Out (splitOut)  
  - **Role:** Splits the array of attendees from the booking event into individual items for independent processing.  
  - **Configuration:**  
    - Field to split: `attendees` (from Cal.com webhook JSON).  
  - **Input:** Booking event JSON containing multiple attendees.  
  - **Output:** Individual attendee JSON objects.  
  - **Potential failures:**  
    - Missing or malformed `attendees` field.  
    - Empty attendees array leading to no output items.  

- **set data**  
  - **Type:** Set  
  - **Role:** Defines static parameters needed downstream, including Telegram chat ID, Beehiiv API key, and publication ID.  
  - **Configuration:**  
    - `chatID`: Placeholder string `yourChatId` (to be replaced by user).  
    - `beehiivAPI`: Placeholder string `yourAPIkey`.  
    - `publicationId`: Placeholder string `yourBeehiivPublicationId`.  
  - **Input:** Individual attendee JSON (though values set here are static).  
  - **Output:** Sets JSON with parameters for use in later nodes.  
  - **Potential failures:**  
    - User forgetting to replace placeholders with actual values may cause downstream auth errors.  

- **Set Attendee**  
  - **Type:** Set  
  - **Role:** Extracts and assigns individual attendee attributes (`name`, `email`, `timeZone`) to a clean, simplified JSON structure.  
  - **Configuration:**  
    - Assigns `name`, `email`, `timeZone` from current JSON item.  
  - **Input:** Output from `set data`.  
  - **Output:** JSON with attendee-specific data ready for Google Sheets and Beehiiv nodes.  
  - **Potential failures:**  
    - Missing expected fields (`name`, `email`, `timeZone`) in input JSON.

---

#### 1.3 Data Logging to Google Sheets

**Overview:**  
Appends each attendee's booking details as a new row in a designated Google Sheet.

**Nodes Involved:**  
- Add users

**Node Details:**

- **Add users**  
  - **Type:** Google Sheets (googleSheets)  
  - **Role:** Appends a new row per attendee with detailed booking and attendee information.  
  - **Configuration:**  
    - Operation: `append`  
    - Document ID: Google Sheet ID (hardcoded to `1SJosfoM-WZEimBQTz1mu65xiyuq9bHII0Igd1mgCcq0`)  
    - Sheet Name: `gid=0` (Sheet1)  
    - Columns mapped:  
      - `title`: Booking event title (from `on New Booking`)  
      - `length`: Meeting length  
      - `timeZone`: Attendee time zone  
      - `createdAt`: Booking creation timestamp  
      - `attendeeName`: Attendee name (from `Set Attendee`)  
      - `meetingStart`: Meeting start time  
      - `attendeeEmail`: Attendee email  
    - Credential: Google Sheets OAuth2 credentials linked.  
  - **Input:** JSON including booking and attendee data.  
  - **Output:** Confirmation of row appended.  
  - **Potential failures:**  
    - Google Sheets API authentication errors.  
    - Invalid or missing Sheet ID or Sheet name.  
    - Data type mismatches or missing data fields.  
    - Rate limits on Google Sheets API.  
  - **Version Requirements:** Requires n8n version compatible with Google Sheets node v4.5+.

---

#### 1.4 Newsletter Subscription via Beehiiv

**Overview:**  
Subscribes each attendee to a Beehiiv newsletter using the Beehiiv API.

**Nodes Involved:**  
- Add subscriber

**Node Details:**

- **Add subscriber**  
  - **Type:** HTTP Request  
  - **Role:** Sends a POST request to Beehiiv API to create a new subscription for the attendee's email.  
  - **Configuration:**  
    - URL: `https://api.beehiiv.com/v2/publications/{{ publicationId }}/subscriptions` (dynamic publication ID from `set data`).  
    - Method: POST  
    - Body: JSON containing attendee email (`email` from `Split Attendees`).  
    - Headers: Authorization Bearer token with Beehiiv API key from `set data`.  
  - **Input:** JSON with attendee email and publication ID/API key from `set data`.  
  - **Output:** API response confirming subscription status.  
  - **Potential failures:**  
    - HTTP errors (4xx/5xx) due to invalid API key, wrong publication ID, or invalid email.  
    - Network timeouts or connectivity issues.  
    - Rate limiting by Beehiiv API.  
  - **Notes:** Requires user to replace placeholder API key and publication ID with real values.

---

#### 1.5 Telegram Notification

**Overview:**  
Sends a detailed notification message to a Telegram channel about the new booking and attendee subscription.

**Nodes Involved:**  
- notify in channel

**Node Details:**

- **notify in channel**  
  - **Type:** Telegram node  
  - **Role:** Sends a message to a Telegram chat ID notifying about the new booked meeting and subscriber details.  
  - **Configuration:**  
    - Text: Multi-line message with event name, start date/time (UTC), attendee name, email, and time zone, populated dynamically from the `Add users` node output.  
    - Chat ID: Taken from `set data` node parameter `chatID`.  
    - Option: Attribution disabled (no "sent via n8n" tag).  
    - Credential: Telegram Bot API credentials linked.  
  - **Input:** Booking and attendee data after Google Sheets append and Beehiiv subscription.  
  - **Output:** Confirmation of message sent.  
  - **Potential failures:**  
    - Invalid chat ID or bot permissions (bot must be admin in channel).  
    - Telegram API errors or rate limiting.  
    - Network issues.  

---

#### 1.6 Parameter Configuration

**Overview:**  
Provides a centralized place to configure essential static parameters required by multiple nodes.

**Nodes Involved:**  
- set data  
- Sticky Notes

**Node Details:**

- **set data** (described above in 1.2)  
  - Centralizes Telegram chat ID, Beehiiv API key, and publication ID. User must replace placeholders with actual values for workflow to function.

- **Sticky Note**  
  - Contains instructions on how to find and set Telegram chat ID, Beehiiv API key, and publication ID.  
  - Serves as documentation within the workflow canvas for user reference.

- **Sticky Note1**  
  - Provides a detailed explanation of workflow operation, setup instructions, and useful links (Cal.com, Beehiiv, 1 Node).  
  - Helps users understand and configure the workflow correctly.

---

### 3. Summary Table

| Node Name       | Node Type          | Functional Role                              | Input Node(s)       | Output Node(s)        | Sticky Note                                                                                              |
|-----------------|--------------------|----------------------------------------------|---------------------|-----------------------|--------------------------------------------------------------------------------------------------------|
| on New Booking  | Cal.com Trigger    | Triggers workflow on new booking event       | (Webhook trigger)   | Split Attendees       | See Sticky Note1 for setup instructions and links                                                      |
| Split Attendees | Split Out          | Splits attendees array into individual items | on New Booking       | set data              |                                                                                                        |
| set data        | Set                | Defines Telegram chat ID, Beehiiv API key, publication ID | Split Attendees       | Set Attendee          | See Sticky Note for parameter definition reminders                                                     |
| Set Attendee    | Set                | Extracts individual attendee info (name, email, timezone) | set data              | Add users             |                                                                                                        |
| Add users       | Google Sheets      | Appends attendee and booking details to Sheet | Set Attendee          | Add subscriber        |                                                                                                        |
| Add subscriber  | HTTP Request       | Subscribes attendee to Beehiiv newsletter    | Add users             | notify in channel     |                                                                                                        |
| notify in channel | Telegram          | Sends notification message to Telegram channel | Add subscriber        |                       |                                                                                                        |
| Sticky Note     | Sticky Note        | Instructions on setting Telegram chat ID, Beehiiv API key, publication ID |                     |                       | ## Define your parameters - Find your telegram chat id to get notified in a private channel (bot must be added as admin) - Create an account on [Beehiiv]() and get your api key - Get your publication id from your newsletter which will be parsed in the "Add subscriber" url endpoint |
| Sticky Note1    | Sticky Note        | Workflow overview, setup instructions, and useful links |                     |                       | ## How it works - This workflow allows you to add each meeting guest into Google Sheets, adding one row for each guest and consequently adding those users to your newsletter on Beehiiv. - Set up steps with links to Cal.com and Beehiiv - Enjoy building! - Aitor - [1 Node](https://1node.ai) |

---

### 4. Reproducing the Workflow from Scratch

1. **Create the Cal.com Trigger Node**  
   - Node type: Cal.com Trigger (calTrigger)  
   - Configure to listen for event type `BOOKING_CREATED`.  
   - Link your Cal.com account credentials.  
   - Save the webhook URL generated for Cal.com webhook setup.  

2. **Add a Split Out Node (Split Attendees)**  
   - Node type: Split Out  
   - Configure the field to split on: `attendees`.  
   - Connect the output of the Cal.com Trigger node to this node.

3. **Add a Set Node (set data) for Parameters**  
   - Node type: Set  
   - Add three string fields:  
     - `chatID` with your Telegram chat ID value (replace `yourChatId`).  
     - `beehiivAPI` with your Beehiiv API key (replace `yourAPIkey`).  
     - `publicationId` with your Beehiiv publication ID (replace `yourBeehiivPublicationId`).  
   - Connect the Split Attendees node output to this node.

4. **Add a Set Node (Set Attendee) to Prepare Attendee Data**  
   - Node type: Set  
   - Assign fields from incoming JSON:  
     - `name` = `{{$json["name"]}}`  
     - `email` = `{{$json["email"]}}`  
     - `timeZone` = `{{$json["timeZone"]}}`  
   - Connect the output of the `set data` node to this node.

5. **Add a Google Sheets Node (Add users) to Append Attendee Data**  
   - Node type: Google Sheets  
   - Operation: Append  
   - Document ID: Specify your Google Sheet ID where booking data will be logged.  
   - Sheet Name: Specify the sheet name or use gid (e.g., `gid=0`).  
   - Map columns with expressions:  
     - `title`: `{{$node["on New Booking"].json["eventTitle"]}}`  
     - `length`: `{{$node["on New Booking"].json["length"]}}`  
     - `timeZone`: `{{$json["timeZone"]}}`  
     - `createdAt`: `{{$node["on New Booking"].json["createdAt"]}}`  
     - `attendeeName`: `{{$json["name"]}}`  
     - `meetingStart`: `{{$node["on New Booking"].json["startTime"]}}`  
     - `attendeeEmail`: `{{$json["email"]}}`  
   - Connect the output of Set Attendee node to this node.  
   - Add Google Sheets OAuth2 credentials.

6. **Add an HTTP Request Node (Add subscriber) for Beehiiv Subscription**  
   - Node type: HTTP Request  
   - Method: POST  
   - URL: `https://api.beehiiv.com/v2/publications/{{ $json["publicationId"] }}/subscriptions`  
   - Body Parameters: JSON with `email` set to `{{$json["email"]}}` from Split Attendees node.  
   - Headers: Add Authorization header with value `Bearer {{ $json["beehiivAPI"] }}`.  
   - Connect the output of Add users node to this node.

7. **Add a Telegram Node (notify in channel) for Notifications**  
   - Node type: Telegram  
   - Text:  
     ```
     ðŸ“… New meeting booked

     Event name: {{$node["Add users"].json["title"]}}
     Start Date: {{$node["Add users"].json["meetingStart"]}} UTC
     Name: {{$node["Add users"].json["attendeeName"]}}
     Email: {{$node["Add users"].json["attendeeEmail"]}}
     User time zone: {{$node["Add users"].json["timeZone"]}}
     ```  
   - Chat ID: `{{$json["chatID"]}}` from `set data` node.  
   - Disable attribution.  
   - Connect output of Add subscriber node to this node.  
   - Add Telegram Bot API credentials.  
   - Ensure your bot is an admin in the target Telegram channel.

8. **Add Sticky Notes (Optional for Documentation)**  
   - Add notes inside the workflow canvas for user reference:  
     - How to find Telegram chat ID, Beehiiv API key, publication ID.  
     - Setup instructions and external links.

9. **Set up Credentials**  
   - Configure Google Sheets OAuth2 credentials with access to the target spreadsheet.  
   - Configure Cal.com API credentials with necessary permissions.  
   - Configure Telegram Bot API credentials for your bot.  
   - Prepare your Beehiiv API key and publication ID for use in the Set node.

10. **Test the Workflow**  
    - Set the workflow active and send a test booking event from Cal.com to the webhook URL.  
    - Verify attendee data is added to Google Sheets.  
    - Check if subscriber is added in Beehiiv.  
    - Confirm notification arrives in Telegram.

---

### 5. General Notes & Resources

| Note Content                                                                                                                                                                                                                          | Context or Link                                                |
|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------|
| Find your Telegram chat ID to get notified in a private channel. The bot must be added as an admin to the channel.                                                                                                                                                       | Sticky Note content in the workflow                            |
| Create an account on Beehiiv and obtain your API key. Get your publication ID from your newsletter account settings.                                                                                                         | Sticky Note content in the workflow                            |
| Create a Cal.com account and configure a webhook with the URL from the Cal.com Trigger node. Use test events to pin data for workflow setup.                                                                                     | Sticky Note1 content                                           |
| Workflow created by Aitor at [1 Node](https://1node.ai). For help or customization, contact 1 Node.                                                                                                                               | Sticky Note1 content                                           |
| Cal.com webhook setup guide: https://refer.cal.com/1node                                                                                                                                                                          | Workflow description and sticky note                           |
| Beehiiv sign-up and API details: https://www.beehiiv.com?via=1node-ai                                                                                                                                                              | Workflow description and sticky note                           |

---

This documentation enables full understanding, reproduction, and modification of the workflow, anticipating typical failure points and integration requirements.